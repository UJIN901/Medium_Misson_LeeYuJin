<html layout:decorate="~{global/usrLayout}">

<head>
    <title th:text="|글 ${post.id}번|"></title>
</head>

<body>

<div layout:fragment="content">
    <h1>글 내용</h1>

    <div>
        <h3>제목</h3>
        <div th:text="${post.title}"></div>
    </div>

    <div>
        <h3>내용</h3>
        <!-- canViewPost 여부에 따라 실제 글 내용이 보이거나, 보이지 않는다. -->
        <div style="white-space: pre-wrap;" th:if="${canViewPost}" th:text="${post.body}"></div>
        <div style="white-space: pre-wrap;" th:if="${!canViewPost}" th:text="${message}"></div>
    </div>
    <div>
        <a th:if="${@postService.canModify(@rq.member, post)}"
           th:href="|/post/${post.id}/modify|">글 수정</a>
        <a method="DELETE" th:if="${@postService.canDelete(@rq.member, post)}"
           onclick="return confirm('정말로 삭제하시겠습니까?');" th:href="|/post/${post.id}/delete|">
            글 삭제</a>
    </div>
</div>

</body>

</html>